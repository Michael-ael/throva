(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8114],{35317:function(e,t,n){"use strict";n.d(t,{x:function(){return u}});var r=n(26042),i=n(69396),o=n(99534),a=n(35944),s=n(70917),l=n(69142);function u(e){var t=e.children,n=e.gap,u=e.boxRadius,c=e.dismissible,d=e.onDismiss,h=(0,o.Z)(e,["children","gap","boxRadius","dismissible","onDismiss"]);return(0,a.BX)("section",(0,i.Z)((0,r.Z)({css:(0,s.iv)("border:solid 0.5px var(--pw-core-color-greyscale-400);border-radius:",void 0===u?8:u,"px;box-sizing:border-box;row-gap:",void 0===n?16:n,"px;display:flex;flex-direction:column;width:100%;position:relative;")},h),{children:[void 0!==c&&c&&(0,a.tZ)(l.U,{onClick:function(){return null==d?void 0:d()},css:(0,s.iv)("position:absolute;right:8px;top:8px;z-index:9;")}),t]}))}},63603:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(26042),i=n(69396),o=n(35944),a=n(61111),s=function(e){return(0,o.BX)(a.l,(0,i.Z)((0,r.Z)({displayName:"QuestionMark",boxSize:24,size:24},e),{children:[(0,o.tZ)("path",{d:"M10.0925 13.9305V16.419H11.9825C15.794 16.419 18.7865 13.4895 18.7865 9.7095C18.7865 5.9295 15.794 3 11.9825 3C8.17102 3 5.21002 5.9295 5.21002 9.7095H7.88752C7.88752 7.3155 9.55702 5.4885 11.9825 5.4885C14.3765 5.4885 16.109 7.3155 16.109 9.7095C16.109 12.1035 14.3765 13.9305 11.9825 13.9305H10.0925Z"}),(0,o.tZ)("path",{d:"M11.7062 17.9999C11.1539 17.9999 10.7062 18.4476 10.7062 18.9999V19.9999C10.7062 20.5522 11.1539 20.9999 11.7062 20.9999H12.7062C13.2584 20.9999 13.7062 20.5522 13.7062 19.9999V18.9999C13.7062 18.4476 13.2584 17.9999 12.7062 17.9999H11.7062Z"})]}))}},99403:function(e,t,n){"use strict";n.d(t,{K:function(){return l}});var r=n(10253),i=n(5068),o=n(3723),a=n(1044),s=n(49264);function l(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,a.DW)().enabled,n=(0,o.ec)().accountUuid;return(0,i.ZP)(n&&t?["getInvestmentPlans",n]:null,function(e){var t=(0,r.Z)(e,2)[1];return(0,s.Ec)(t)},{revalidateOnFocus:e,revalidateOnMount:e,revalidateOnReconnect:e})}},3704:function(e,t,n){"use strict";n.d(t,{Y:function(){return f},w:function(){return p}});var r=n(35944),i=n(70917),o=n(4018),a=n(26264),s=n(38946),l=n(5068),u=n(991),c=n(48244),d=n(1616),h=n(63049),f=function(){var e=(0,l.ZP)("getTreasuryRates",d.gT).data,t=(null==e?void 0:e.reportDate)?(0,h.sG)(e.reportDate):void 0,n=t?(0,s.WU)(t,"MM/dd/yyyy"):"date unknown";return(0,r.BX)(r.HY,{children:[(0,r.BX)("p",{children:["The listed yield is the annualized interest rate (as of ",n,") of a 26-week U.S. Treasury Bill (“T-Bill”) and is the estimated yield you would receive if you purchased additional 6M Treasury bills and hold them to maturity. This annualized yield is gross of fees; see the"," ",(0,r.tZ)(a.Rw,{href:c.Ce.disclosuresFeeSchedule,size:"small",target:"_blank",children:"Fee Schedule"})," ","for details."]}),(0,r.tZ)("p",{children:"If you sell prior to maturity, you may realize a different yield. Yield is earned only on T-Bills; cash in your Jiko brokerage account will not earn interest. 6M Treasury Bills contains multiple T-bills at different interest rates and will result in a different overall yield."})]})},y={accountYTM:{title:"Your Account YTM (Yield To Maturity)",description:(0,r.BX)("p",{children:["The YTM of your account is calculated as the weighted average YTM of all your Treasury bills and cash holdings.",(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),"Cash is assumed to have a 0% YTM. Pending purchases may also increase your cash balance until securities are purchased. Purchases are completed around 9:30am ET on market days."]}),tldr:""},buyYtm:{title:"",description:(0,r.tZ)(f,{}),tldr:""},ytm:{title:"Current Treasury YTM (Yield To Maturity)",description:"Rates are based on the 26-week Treasury bill annualized yield accurate as of [POPULATE DATE FROM BE RATE] and is the estimated YTM you would get if you were to purchase additional Treasury bills today. Treasury bill prices may fluctuate until they reach par value ($100) at maturity. YTM does not include fees. Any cash balances in your 6M Treasury Bills under $100 may remain in cash and will reduce your yield.",tldr:""},holdings:{title:"Account holdings",description:(0,r.BX)("p",{children:["This chart provides a breakdown of your Treasuries account holdings, including the remaining cash in your account.",(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),(0,r.tZ)("b",{children:"Yield To Maturity (YTM):"})," The rate of return if the T-bill is held until maturity.",(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),(0,r.tZ)("b",{children:"Maturity date:"}),"The date when you are paid out the face value ($100) of the T-bill.",(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),(0,r.tZ)("b",{children:"Cash:"})," Aggregate funds of less than $100 may remain as cash in your account."]}),tldr:""},cash:{title:"Why is there cash in this account?",description:"Your cash value can vary from $0.01 to $99.99 depending on the current price of T-bills. Pending purchases may also increase your cash balance until securities are purchased. Purchases are completed around 9:30am ET on market days. T-bills are purchased for a discount (less than $100) and pay out their par value ($100) at maturity - this difference is your interest. If there is not enough cash available to purchase another T-bill, it will remain as cash and will not earn interest.",tldr:""},ytmAtPurchase:{title:"YTM at purchase",description:"This is the rate that you purchased your treasury bill at. If you hold until maturity, this is the percentage yield you will earn on your investment.",tldr:""},returnAtMaturity:{title:"Return at maturity",description:"This is the value of the yield you will earn in total if you hold until maturity.",tldr:""},valueAtMaturity:{title:"Value at maturity",description:"This is the value you will have in total if you hold until maturity. It includes the initial amount you paid for your treasuries in addition to the yield you will earn.",tldr:""}},p=function(e){var t=e.iconSize,n=e.lookupKey,a=e.hoverPopoverPersist,s=void 0!==a&&a,c=(0,l.ZP)("getTreasuryRates",d.gT).data,h=y[n],f=(null==c?void 0:c.reportDate)?c.reportDate:"unknown date",p="ytm"===n?String(h.description).replace("[POPULATE DATE FROM BE RATE]",f):h.description;return(0,r.tZ)(o.u,{align:"center",trigger:"hover",variant:"light",style:{zIndex:"var(--index-modal)"},content:(0,r.BX)("div",{css:(0,i.iv)("display:flex;flex-direction:column;row-gap:4px;max-width:300px;"),children:[!!h.title&&(0,r.tZ)("div",{css:(0,i.iv)("font:var(--font-body-1-heavy);"),children:h.title}),!!h.tldr&&(0,r.BX)("div",{css:(0,i.iv)("font:var(--font-body-2-heavy);"),children:["TLDR: ",h.tldr]}),(0,r.tZ)("div",{css:(0,i.iv)("font:var(--font-body-2-light);white-space:pre-wrap;"),children:p})]}),children:(0,r.tZ)("div",{css:(0,i.iv)("color:var(--pw-core-color-greyscale-600);height:16px;margin-left:4px;width:",s?"26px":void 0,";margin-right:",s?"-10px":void 0,";position:relative;:hover{color:var(--pw-core-color-blue-600);}"),children:(0,r.tZ)("span",{css:(0,i.iv)("align-items:center;color:var(--pw-core-color-greyscale-600);display:flex;height:16px;:hover{color:var(--pw-core-color-blue-600);}"),children:(0,r.tZ)(u.Y,{size:void 0===t?12:t})})})})}},95414:function(e,t,n){"use strict";n.d(t,{g:function(){return tn}});var r=n(10253),i=n(35944),o=n(67294),a=n(94394),s=n(26042),l=n(99534),u=n(70917),c=n(79050),d=n(83638),h=n(14772),f=n(48244),y=n(71844),p=n(48938),m=n(19899),v=n(47568),g=n(69396),b=n(97582),w=n(3723),x=n(37309),Z=n(66239),T=n(29815),C=n(6099),M=(0,o.createContext)(void 0),S=function(e){var t=e.children,n=e.orderId,r=(0,o.useState)([]),a=r[0],s=r[1],l=(0,o.useMemo)(function(){return{orderEvents:a}},[a]);return(0,C.uE)(function(e){e.type===C.tw.OrderUpdated&&e.payload.orderId===n&&s(function(t){return(0,T.Z)(t).concat([e])})}),(0,i.tZ)(M.Provider,{value:l,children:t})},B=n(14279),D=n(57184),k=n(6638),P=n(84554);function A(e,t){return X.apply(this,arguments)}function X(){return(X=(0,v.Z)(function(e,t){var n;return(0,b.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,D.co)(e,t)];case 1:return n=r.sent(),[2,(0,B.t)(n)];case 2:return r.sent(),[2,{status:"success",orderStatus:"pending",pendingDetails:!0}];case 3:return[2]}})})).apply(this,arguments)}function Y(e,t){switch(t.type){case"set_order_data":return(0,g.Z)((0,s.Z)({},e,t.data),{currentSaga:void 0,orderId:void 0});case"set_order_state":return(0,s.Z)({},e,t.data);default:throw Error("Invalid action")}}var N=o.createContext(void 0),F=o.createContext(void 0),E=function(e){var t=e.children,n=e.ownedAmount,r=e.side,a=e.symbol,l=e.symbolName,u=function(e){h({type:"set_order_data",data:e})},c=(0,o.useReducer)(Y,{amount:0,side:r,symbol:a,symbolName:l}),d=c[0],h=c[1],f=(0,o.useMemo)(function(){return(0,g.Z)((0,s.Z)({},d),{ownedAmount:n,setOrderData:u})},[d,n]);return(0,i.tZ)(N.Provider,{value:f,children:(0,i.tZ)(F.Provider,{value:h,children:(0,i.tZ)(S,{orderId:d.orderId,children:t})})})};function O(){var e=(0,o.useContext)(F);if(void 0===e)throw Error("useTreasuryOrderDispatch must be used within a TreasuryOrderDispatchContext provider");return e}function U(){var e=(0,o.useContext)(N);if(void 0===e)throw Error("useTreasuryOrder must be used within a TreasuryOrderContext provider");return e}var _=n(1378),z=n(38946),R=n(50779),I=n(77818),H=n(77794),L=n(31505),W=n(49264),V=n(64728),j=n(3645),$=n(76861),q=n(18868),K=n(5006),Q=n(85951),G=function(e){var t=e.children;return(0,i.tZ)("div",{css:(0,u.iv)("display:flex;justify-content:space-between;margin-top:auto;padding:24px;"),children:t})},J=n(72707),ee=function(e){var t=e.isLoading,n=e.onBack;return(0,i.tZ)("div",{css:(0,u.iv)("padding-left:24px;"),children:!!n&&(0,i.tZ)(_.zx,{disabled:void 0!==t&&t,iconOnly:!0,size:"small",variant:"tertiary",onClick:function(){return n()},children:(0,i.tZ)(J.B,{})})})},et=n(51452),en=function(e){var t,n=e.total,r=e.totalLabel;return(0,i.BX)("div",{css:(0,u.iv)("display:flex;flex-direction:column;justify-content:center;row-gap:4px;"),children:[(0,i.tZ)("span",{css:(0,u.iv)("align-items:center;color:var(--pw-core-color-greyscale-600);column-gap:4px;display:flex;font:var(--font-body-2-light);"),children:r}),(0,i.tZ)("span",{css:(0,u.iv)("font:var(--font-body-1-heavy);"),children:void 0!==n?(0,et.lb)(n,{showDecimals:!0}):"-"})]})},er=function(e){var t,n=e.orderSide,r=e.saga,o=n===p.oU.Buy;return(0,i.tZ)(en,{total:null!==(t=r.amount)&&void 0!==t?t:0,totalLabel:o?"Total":"Sale proceeds"})},ei=n(63603),eo=n(51841),ea=function(e){var t=e.error,n=e.isDepositPosFunds,r=e.onDismiss,o="An error occurred",a="It looks like we had trouble completing your transfer. Please try again.",s="unknown";if("cancelled"===t.status)o="Attention!",a="We couldn’t complete your transfer. Please try again, or contact support if the problem persists.",s="error";else if("rejected"===t.status){o="Transaction rejected";var l=t.rejectionMessage?" because of ".concat(t.rejectionMessage,"."):".";a="It looks like your transfer was rejected".concat(l),s="error"}return(0,i.tZ)(h.V,{title:o,description:(0,i.BX)(i.HY,{children:[a,(0,i.tZ)("br",{}),n&&"A deposit to fund this purchase was completed."]}),confirmText:"Dismiss",showCancel:!1,renderTopView:function(){return(0,i.tZ)("span",{css:(0,u.iv)("align-items:center;background-color:","error"===s?"var(--pw-core-color-red-100)":"var(--pw-core-color-greyscale-200)",";border-radius:24px;display:flex;justify-content:center;height:48px;margin-bottom:16px;width:48px;"),children:"error"===s?(0,i.tZ)(eo.b,{}):(0,i.tZ)(ei.A,{})})},onConfirm:r,onClose:r})},es=n(88814),el=n(25948),eu=function(e){var t=e.crossedOutValue,n=e.detail,r=e.label,o=e.value;return(0,i.BX)("div",{css:(0,u.iv)("box-sizing:border-box;color:var(--pw-core-color-greyscale-1000);display:flex;flex-grow:1;font:var(--font-body-1-light);min-height:20px;padding:0;position:relative;> div{column-gap:4px;display:flex;}"),children:[(0,i.BX)("div",{css:(0,u.iv)("display:flex;flex-direction:column;row-gap:4px;"),children:[(0,i.tZ)("span",{css:(0,u.iv)("align-items:center;column-gap:4px;display:flex;"),children:r}),!!n&&(0,i.tZ)("span",{css:(0,u.iv)("color:var(--pw-core-color-greyscale-600);font:var(--font-body-2-light);"),children:n})]}),(0,i.BX)("div",{css:(0,u.iv)("align-self:center;column-gap:4px;display:flex;margin-left:auto;"),children:[!!t&&(0,i.tZ)("span",{css:(0,u.iv)("color:var(--pw-core-color-greyscale-600);font:var(--font-body-1-light);text-decoration-line:line-through;"),children:t}),(0,i.tZ)("div",{css:(0,u.iv)("align-items:center;font:var(--font-body-1-heavy);text-align:right;"),children:o})]})]})},ec=function(e){var t,n,r=e.orderSide,o=e.saga,a=e.schedule,s=r===p.oU.Sell,l=!s&&a.frequency!==m.k.OneTime,c=(0,H.x)(a),d=(0,es.Oh)(c);return(0,i.BX)("div",{css:(0,u.iv)("border-bottom:0.5px solid var(--pw-core-color-greyscale-400);border-top:0.5px solid var(--pw-core-color-greyscale-400);box-sizing:border-box;display:flex;flex-direction:column;margin:24px 24px 0;padding:16px 0;row-gap:12px;"),children:[s&&(0,i.tZ)(eu,{label:"Transfer to",value:"Brokerage account"}),l?(0,i.BX)(i.HY,{children:[(0,i.tZ)(eu,{label:"To",value:"Treasuries account"}),(0,i.tZ)(eu,{label:"Frequency",value:(0,el.cV)(a)}),(0,i.tZ)(eu,{label:"Start date",value:d})]}):(0,i.tZ)(eu,{label:"Total amount",value:void 0!==(n=null!==(t=o.amount)&&void 0!==t?t:0)?(0,et.lb)(n,{showDecimals:!0,maxDecimals:void 0}):"-"})]})},ed=n(30817),eh=function(e){var t,n=e.error,r=e.isDepositPosFunds,o=e.onDismiss;return(0,i.tZ)(h.V,{title:n.title,description:(0,i.BX)(i.HY,{children:[n.description,(0,i.tZ)("br",{}),r&&"A deposit to fund this purchase was completed."]}),confirmText:null!==(t=null==n?void 0:n.confirmText)&&void 0!==t?t:"Dismiss",showCancel:!1,renderTopView:function(){return(0,i.tZ)("span",{css:(0,u.iv)("align-items:center;background-color:var(--pw-core-color-red-100);border-radius:24px;display:flex;justify-content:center;height:48px;margin-bottom:16px;width:48px;"),children:(0,i.tZ)(eo.b,{})})},onConfirm:o,onClose:o})},ef=n(5068),ey=n(3704),ep=n(1616),em=(0,u.iv)("align-items:center;color:var(--pw-core-color-greyscale-600);display:flex;font:var(--font-body-1-light);justify-content:center;margin-top:4px;"),ev=function(e){var t,n=e.amount,r=e.buy,o=e.isRecurringBuy,a=void 0!==o&&o,s=(0,ef.ZP)("getTreasuryRates",ep.gT).data,l=(null==s?void 0:s.treasuryBillTypes)?null===(t=s.treasuryBillTypes.find(function(e){return e.symbol===f.LQ}))||void 0===t?void 0:t.yield:"-",c=l?(0,et.p3)(l):0,d=(0,et.T3)(c);return(0,i.BX)("div",{css:(0,u.iv)("margin-top:24px;padding:0 24px;"),children:[(0,i.tZ)("h2",{css:(0,u.iv)("font:var(--font-h2);margin:0;text-align:center;"),children:a?(0,i.tZ)(i.HY,{children:(0,et.lb)(void 0===n?0:n)}):(0,i.BX)(i.HY,{children:[r?"Invest in 6M Treasury Bills":"Sell 6M Treasury Bills"," "]})}),r&&!!l&&!a&&(0,i.BX)("div",{css:em,children:["at an estimated ",d," YTM",(0,i.tZ)(ey.w,{hoverPopoverPersist:!0,iconSize:16,lookupKey:"buyYtm"})]}),a&&(0,i.tZ)("div",{css:em,children:"Recurring 6M Treasury Bills purchase"})]})},eg=function(e){var t,n,l,c,d,h,f=e.isDepositPosFunds,y=e.paymentMethod,T=e.planName,C=e.schedule,M=e.symbols,S=e.onEdit,B=e.onNext,D=e.onProcessing,k=(0,r.Z)((0,Q.O)(!1),2),P=k[0],A=k[1],X=(0,o.useState)(),Y=X[0],N=X[1],F=(0,o.useState)(f),E=F[0],J=F[1],et=(0,w.ec)().accountUuid,en=U(),ei=en.side,eo=en.ownedAmount,es=en.symbol,el=en.symbolName,eu=en.currentSaga,ef=en.orderId,ey=en.quote,ep=(c=(l=U()).side,d=l.amount,h=l.symbol,(0,o.useMemo)(function(){return{amount:d,orderSide:c,symbol:h,timeInForce:p.sN.Day,type:p.mr.Market}},[c,d,h])),em=null!=eu?eu:ep,eg=null!==(t=null==em?void 0:em.amount)&&void 0!==t?t:0,eb=function(){var e=(0,w.ec)().accountUuid,t=void 0===e?"":e,n=O();function r(){return(r=(0,v.Z)(function(e){var r,i,o;return(0,b.__generator)(this,function(a){switch(a.label){case 0:return n({type:"set_order_state",data:{currentSaga:void 0,orderId:void 0}}),[4,(0,x.Vm)(e.symbol)];case 1:return r=a.sent(),i=(0,g.Z)((0,s.Z)({},e),{quote:r}),[4,(0,Z.gH)({accountId:t,requestSaga:i})];case 2:return n({type:"set_order_state",data:{currentSaga:i,orderId:o=a.sent().orderId}}),[2,{requestSaga:i,orderId:o}]}})})).apply(this,arguments)}return function(e){return r.apply(this,arguments)}}(),ew=function(){var e=(0,w.ec)().accountUuid,t=void 0===e?"":e,n=U().orderId;function r(){return(r=(0,v.Z)(function(){return(0,b.__generator)(this,function(e){switch(e.label){case 0:if(!n)throw Error("saga has to be open");return[4,(0,Z.Zl)({accountId:t,orderId:n})];case 1:return e.sent(),[2,void 0]}})})).apply(this,arguments)}return function(){return r.apply(this,arguments)}}();(0,o.useEffect)(function(){(0,a.Q6)({amount:eg,ownedAmount:eo,side:ei,symbol:es,symbolName:el})},[eg,eo,ei,es,el]);var ex=(0,r.Z)((0,K.r5)(eb,{onFailure:function(e){if((0,K.zg)(e)===V.X.NotAvailableForTrading)N({title:"You’ll be able to invest in Treasuries soon.",description:"Our partner, Jiko, is currently processing your account."});else if((0,K.zg)(e)===V.X.SellOnly)J(!1),N({title:"Purchase failed",description:"Your deposit of $".concat(eg," was successfully initiated, but we were unable to complete your Treasuries purchase. Please reach out to support"),confirmText:"Done"});else{var t;N({title:(0,K.zg)(e)===V.X.MaxOpenOrdersExceeded?"Pending Order Limit Reached":"Attention!",description:null!==(t=(0,K.e$)(e))&&void 0!==t?t:""})}},onSuccess:function(){N(void 0)}}),2),eZ=ex[0],eT=ex[1].isLoading,eC=(0,r.Z)((0,K.r5)(ew,{onStart:function(){D(!0)},onFailure:function(){D(!1)},onSuccess:function(){ef&&(B(),(0,a.CU)({amount:eg,ownedAmount:eo,side:ei,symbol:es,symbolName:el,bid:null==ey?void 0:ey.bid,ask:null==ey?void 0:ey.ask,last:null==ey?void 0:ey.last})),D(!1)}}),2),eM=eC[0],eS=eC[1],eB=eS.isLoading,eD=eS.error,ek=(0,r.Z)((0,K.r5)(W.hQ,{onSuccess:function(e){B(e),D(!1)},onFailure:function(){A(),D(!1)}}),2),eP=ek[0],eA=ek[1],eX=eA.isLoading,eY=eA.error,eN=ei===p.oU.Buy,eF=C.dayOfWeek,eE=C.dayOfMonth,eO=C.frequency,eU=eN&&eO!==m.k.OneTime,e_=null!==(n=(0,H.x)(C))&&void 0!==n?n:new Date,ez=function(){N(void 0),S()};if((0,o.useEffect)(function(){ep&&eZ(ep)},[eZ,ep]),!em)return null;var eR=function(){if(et&&"buyingPower"!==y&&(null==y?void 0:y.type)===$.vd.Ach){var e;eP(et,{fundingSourceId:null!==(e=null==y?void 0:y.id)&&void 0!==e?e:"",fundingSourceType:q.s.ACH,planName:T,amount:eg,startDate:(0,z.WU)(e_,"yyyy-MM-dd"),schedules:[C],symbols:M,recommendedPlan:"no"})}},eI=function(){if(eU)return(0,I.Hd)({amount:eg,assetType:j.e.Treasury,feature:"pre_made_investment_plan",frequency:eO,dayOfMonth:eE,dayOfWeek:eF,numberOfSymbols:M.length,paymentMethod:"ACH",planName:T,startDate:(0,z.WU)(e_,"yyyy-MM-dd"),totalFeeAmount:0}),eR();eM()};return(0,i.BX)(i.HY,{children:[(0,i.tZ)(ee,{isLoading:eB,onBack:function(){return S()}}),(0,i.BX)("div",{css:(0,u.iv)("overflow-y:auto;"),children:[(0,i.tZ)(ev,{amount:eg,buy:eN,isRecurringBuy:eU}),(0,i.tZ)(ec,{orderSide:ei,saga:em,schedule:C}),(0,i.tZ)(ed.hh,{buy:eN})]}),(0,i.BX)(G,{children:[(0,i.tZ)(er,{orderSide:ei,saga:em}),(0,i.BX)(_.zx,{variant:"primary",disabled:!(!eT&&ef&&!Y),isLoading:eB||eX,onClick:eI,children:["Confirm to ",eN?"purchase":"sell"]})]}),!!Y&&(0,i.tZ)(eh,{error:Y,isDepositPosFunds:E,onDismiss:ez}),!!eD&&(0,i.tZ)(ea,{error:{status:"error"},isDepositPosFunds:E,onDismiss:ez}),P&&(0,i.tZ)(R.Z,{children:(0,i.tZ)(L.x,{errorMessage:(0,K.e$)(eY),onDismiss:function(){A(),S()}})})]})},eb=n(34042),ew=n(70605),ex=n(22783),eZ=n(47163),eT=n(73141),eC=n(44309),eM=function(){var e=(0,eb.E)().buyingPower;return(0,i.BX)("div",{css:(0,u.iv)("font:var(--font-body-1-heavy);margin:10px 0;text-align:center;"),children:["Buying Power:"," ",null!=e?(0,et.lb)(e,{showDecimals:!0}):"–"]})},eS=n(14924),eB=n(94738),eD=function(e){var t=e.buyingPower,n=e.depositNeeded,r=e.onCancel,a=e.onDeposit,s=e.symbol;(0,o.useEffect)(function(){var e;(0,eB.aN)({name:eB.s6.UserPromptedToDepositFunds,properties:(e={},(0,eS.Z)(e,eB.DE.AdditionalBuyingPowerRequired,n.toFixed(2).toString()),(0,eS.Z)(e,eB.DE.StockSymbol,s),e)})},[n,s]);var l="You only have ".concat((0,et.lb)(t,{showDecimals:!0})," of buying power"),u=(0,i.BX)(i.HY,{children:["You’ll need to deposit at least"," ",(0,i.tZ)("strong",{children:(0,et.lb)(n,{showDecimals:!0})})," to make this investment."]});return t||(l="Make a deposit to invest",u="You’ll need at least a little buying power (settled funds in your Public account) to invest in stocks."),(0,i.tZ)(h.V,{title:l,description:u,confirmText:"Deposit",onConfirm:function(){a(),(0,eB.aN)({name:eB.s6.UserStartedFundsDepositAfterPrompt})},onClose:r})},ek=n(9983),eP=n(78038),eA=[m.k.OneTime,m.k.Daily,m.k.Weekly,m.k.Biweekly,m.k.Monthly,],eX=function(e){var t=e.amount,n=e.schedule,r=e.side,o=e.ownedAmount,a=e.onAmountChange,s=e.onScheduleChange,l=e.onNext;return(0,i.BX)(i.HY,{children:[(0,i.BX)("div",{css:(0,u.iv)("margin-top:32px;"),children:[(0,i.tZ)(ek._,{decimals:r===p.oU.Sell,font:"var(--font-hxl)",min:1,max:1e8,value:t,onEnter:l,onChange:a}),r===p.oU.Buy&&!o&&(0,i.tZ)("div",{css:(0,u.iv)("color:var(--pw-core-color-greyscale-600);display:flex;font:var(--font-body-2-light);justify-content:center;margin-top:8px;"),children:"An initial purchase of at least $100 is required"})]}),r===p.oU.Buy&&(0,i.tZ)("div",{css:(0,u.iv)("margin:24px auto 0;"),children:(0,i.tZ)(eP.G,{allowWeekend:!1,frequencies:eA,schedule:n,onChange:s})})]})},eY=n(26264),eN=n(56090),eF=n.n(eN),eE=function(e){var t=e.ownedAmount,n=e.onWithdrawAll,r=null!=t?"".concat((0,et.lb)(t,{showDecimals:!0})):"–";return(0,i.BX)("div",{className:eF().text,children:[r," available •"," ",(0,i.tZ)(eY.Rw,{onClick:n,children:"Withdraw all"})]})},eO=function(e){var t=e.total,n=U().side===p.oU.Buy;return(0,i.tZ)(en,{total:t,totalLabel:n?"Total":"Sell amount"})},eU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r="",i="Failed Transaction",o=a.KS.Default;return t===p.oU.Sell&&e>n&&(r="Unable to sell more than you own",o=a.KS.MaintainMin),t===p.oU.Buy&&(!n&&e<100&&(i="Minimum not reached",r="The minimum initial investment in Treasuries is $100.",o=a.KS.Minimum),n&&e<5&&(i="Minimum not reached",r="The minimum investment in Treasuries is $5.",o=a.KS.Minimum)),{analyticsErrorMessage:o,errorMessage:r,errorTitle:i}},e_=function(e){var t=e.ownedAmount,n=e.side,r=e.totalAmount,s=e.onDismiss,l=eU(r,n,t),u=l.analyticsErrorMessage,c=l.errorMessage,d=l.errorTitle;return(0,o.useEffect)(function(){(0,a.ez)(u)},[u]),(0,i.tZ)(h.V,{title:d,description:c,confirmText:"Ok",showCancel:!1,onConfirm:s,onClose:s})},ez=n(80927),eR=function(e){var t=e.amount,n=void 0===t?0:t,r=e.side,i=e.ownedAmount,o=void 0===i?0:i,a=e.isRecurringBuy;return r===p.oU.Sell?n<=o:a?n>=5:o?n>=5:n>=100},eI=function(e){var t=e.achLimitReached,n=e.buyingPowerSufficient,r=e.onClose,o=e.onConfirm,a="".concat(t?"You have hit the maximum for deposits for today.":"There was an error processing your deposit."," ").concat(n?"Would you like to continue this purchase with your buying power?":"");return(0,i.tZ)(h.V,{title:"".concat(n?"Purchase with your buying power":"We could not process your deposit"),description:a,confirmText:n?"Use buying power":void 0,onClose:r,cancelText:n?"No thanks":"Close",onConfirm:n?o:void 0})},eH=function(e){var t,n=e.schedule,s=e.onDepositSuccess,l=e.onNext,u=e.onScheduleChange,c=(0,w.ec)().accountUuid,h=U(),f=h.ownedAmount,y=h.side,v=h.symbol,g=h.symbolName,b=(0,ef.ZP)("getPaymentMethods",ex.Q8).data,x=(0,o.useState)(y!==p.oU.Buy||f?void 0:100),Z=x[0],T=x[1],C=b&&null!==(t=(0,eC.U5)({paymentMethods:b.paymentMethods}))&&void 0!==t?t:"buyingPower",M=null==b?void 0:b.paymentMethods.find(function(e){return e.type===$.vd.Ach}),S=(0,o.useState)(null!=M?M:C),B=S[0],D=S[1],k=(0,o.useState)(!1),P=k[0],A=k[1],X=(0,r.Z)((0,Q.O)(!1),2),Y=X[0],N=X[1],F=(0,r.Z)((0,Q.O)(!1),2),E=F[0],O=F[1],z=(0,d.VH)().open,R=(0,r.Z)((0,Q.O)(!1),2),I=R[0],H=R[1],L=(0,eb.E)().buyingPower,W=void 0===L?0:L,V=y===p.oU.Buy,j=n.frequency!==m.k.OneTime,q="buyingPower"!==B&&V&&!j,K=eR({amount:Z,side:y,ownedAmount:f,isRecurringBuy:j}),J=void 0===Z,ee={amount:null!=Z?Z:0,paymentMethod:B};(0,o.useEffect)(function(){j&&M&&D(M)},[M,j]);var et=function(e){e.errorCode===eZ.DG.DepositLimitExceeded&&A(!0),N()},en=(0,ew.a)({onInitiateFailure:et,onFinishDepositFailure:N,onInitSuccess:function(e){return ei(e)},onSuccess:function(){l(ee),s()}}),er=en.initiate,ei=en.confirm,eo=en.isLoading,ea=function(){B&&q&&Z&&c&&er({paymentMethodId:B.id,accountUuid:c,amount:{amount:Z.toString(),currency:eT.F.USD}})},es=function(){if(!J){if(!K){H();return}if(V&&W<(null!=Z?Z:0)&&"buyingPower"===B&&!j)return O();Z&&q?ea():l(ee)}},el=function(e){T(e),(0,a.Xy)({amount:null!=e?e:0,ownedAmount:f,side:y,symbol:v,symbolName:g})},eu=function(){D("buyingPower"),N(),l(ee)};return(0,i.BX)(i.HY,{children:[(0,i.tZ)(ev,{buy:V}),V?(0,i.tZ)(i.HY,{children:b?(0,i.tZ)(ez.B,{buyingPower:W,paymentMethods:b.paymentMethods.filter(eC.Wx),paymentMethod:B,variant:j?"exclude-non-ach":"default",onPaymentMethodChange:D}):(0,i.tZ)(eM,{})}):(0,i.tZ)(eE,{ownedAmount:f,onWithdrawAll:function(){null!=f&&T(f)}}),(0,i.tZ)(eX,{amount:Z,schedule:n,side:y,ownedAmount:f,onAmountChange:el,onNext:es,onScheduleChange:u}),(0,i.BX)(G,{children:[(0,i.tZ)(eO,{total:null!=Z?Z:0}),(0,i.tZ)(_.zx,{disabled:J,isLoading:"buyingPower"!==B&&eo,variant:"primary",onClick:es,children:q?"Deposit":"Next"})]}),I&&(0,i.tZ)(e_,{ownedAmount:f,side:y,totalAmount:Z,onDismiss:H}),E&&(0,i.tZ)(eD,{buyingPower:W,depositNeeded:(null!=Z?Z:0)-W,onCancel:function(){return O()},onDeposit:function(){z(d.Zw.RegularDeposit),O()},symbol:v}),Y&&(0,i.tZ)(eI,{achLimitReached:P,buyingPowerSufficient:!!W&&W>=(null!=Z?Z:0),onClose:N,onConfirm:eu})]})},eL=n(53542),eW=function(e){var t,n,r,s,l,c,d,h,f,y,p,m,v,g,b=e.isDepositPosFunds,x=e.onClose,Z=e.onSuccess,T=U(),C=T.currentSaga,S=T.orderResult,B=T.ownedAmount,D=T.side,X=T.symbol,Y=T.symbolName,N=(0,P.d)(Z);return(t=U().orderId,n=O(),s=function(e){n({type:"set_order_state",data:{orderResult:e}})},c=void 0===(l=(0,w.ec)().accountUuid)?"":l,d=function(){var e=(0,o.useContext)(M);if(void 0===e)throw Error("useOrderEvents must be used within a OrderEventContext provider");return e}().orderEvents,f=(h=(0,o.useState)("idle"))[0],y=h[1],m=(p=(0,o.useState)())[0],v=p[1],g=(0,P.d)(s),(0,o.useEffect)(function(){t&&(y("waiting_event"),v(window.setTimeout(function(){y("waiting_order"),A(c,t).then(function(e){g.current(e)})},7e3)))},[c,t,g]),(0,o.useEffect)(function(){if(t&&"waiting_event"===f&&d.length>0){var e=d[d.length-1];e&&e.payload.status===k.iF.New&&!e.payload.shouldWaitForFill&&(window.clearTimeout(m),y("waiting_order"),A(c,t).then(function(e){g.current(e)})),e&&e.payload.status===k.iF.Filled&&(window.clearTimeout(m),y("waiting_order"),A(c,t).then(function(e){g.current(e)}))}},[m,f,c,t,d,g,]),(0,o.useEffect)(function(){(null==S?void 0:S.status)==="success"&&N.current()},[S,N]),(0,o.useEffect)(function(){if(S&&"orderResponse"in S&&"success"===S.status&&"filled"===S.orderStatus){var e;(0,a.Ec)({amount:null!==(e=null==C?void 0:C.amount)&&void 0!==e?e:0,ownedAmount:B,side:D,symbol:X,symbolName:Y})}},[S,B,null==C?void 0:C.amount,D,X,Y]),C&&S)?(null==S?void 0:S.status)==="success"?null:(0,i.tZ)(i.HY,{children:S?(0,i.tZ)(ea,{error:{status:S.status,rejectionMessage:"rejectionMessage"in S?S.rejectionMessage:void 0},isDepositPosFunds:b,onDismiss:x}):null}):(0,i.tZ)("div",{css:(0,u.iv)("align-items:center;flex-grow:1;display:flex;justify-content:center;"),children:(0,i.tZ)(eL.$,{size:36})})},eV=n(45214),ej=n(61111),e$=function(e){return(0,i.tZ)(ej.l,(0,g.Z)((0,s.Z)({displayName:"CircleCheckNoFill",boxSize:24,size:24},e),{children:(0,i.tZ)("path",{d:"M11.4281 15.9281C10.9172 16.4391 10.0828 16.4391 9.57187 15.9281L6.57187 12.9281C6.06094 12.4172 6.06094 11.5828 6.57187 11.0719C7.08281 10.5609 7.91719 10.5609 8.42813 11.0719L10.5 13.1437L15.5719 8.07187C16.0828 7.56094 16.9172 7.56094 17.4281 8.07187C17.9391 8.58281 17.9391 9.41719 17.4281 9.92813L11.4281 15.9281ZM24 12C24 18.6281 18.6281 24 12 24C5.37188 24 0 18.6281 0 12C0 5.37188 5.37188 0 12 0C18.6281 0 24 5.37188 24 12ZM12 2.25C6.61406 2.25 2.25 6.61406 2.25 12C2.25 17.3859 6.61406 21.75 12 21.75C17.3859 21.75 21.75 17.3859 21.75 12C21.75 6.61406 17.3859 2.25 12 2.25Z"})}))},eq=n(63049),eK=n(62430),eQ=n(22267),eG=function(e){var t=e.symbol,n=e.onDismiss,r=(0,eQ.Y)();return(0,i.tZ)(h.V,{title:"Transfer initiated",description:(0,i.BX)(i.HY,{children:["Your transfer went through, but we’re having trouble displaying your transaction details.",(0,i.tZ)("br",{}),(0,i.tZ)("br",{}),"Attempting your transfer again will create a duplicate transaction, so just check your treasury transaction history tab in a few minutes to see your transfer status."]}),confirmText:"Dismiss",showCancel:!1,renderTopView:function(){return(0,i.tZ)(eK.s,{logoUrl:r(t),padding:[0],showBorder:!1,size:[48],symbol:t})},onConfirm:n,onClose:n})},eJ=function(e){var t,n=e.plan,r=e.onNext,o=(0,et.lb)(null!==(t=(0,et.p3)(null==n?void 0:n.amount))&&void 0!==t?t:0),a="string"==typeof(null==n?void 0:n.nextOrderDate)?(0,eq.sG)(n.nextOrderDate):null,s=a?(0,z.WU)(a,"MMM d, yyyy"):"-";return(0,i.BX)(i.HY,{children:[(0,i.BX)("div",{css:(0,u.iv)("display:flex;flex-direction:column;flex-grow:1;height:100%;justify-content:center;padding:0 24px;text-align:center;"),children:[(0,i.tZ)("div",{css:(0,u.iv)("margin-left:0 auto;padding-bottom:24px;"),children:(0,i.tZ)(eV.K,{size:32})}),(0,i.BX)("div",{css:(0,u.iv)("font:var(--font-h2);text-align:center;"),children:[o," recurring buy scheduled"]}),(0,i.BX)("div",{css:(0,u.iv)("background:var(--pw-core-color-greyscale-200);border-radius:8px;box-sizing:border-box;color:var(--pw-core-color-greyscale-600);font:var(--font-body-2-light);margin-top:32px;padding:12px;"),children:["Your order will be processed on ",s,". Make sure you have at least ",o," in your account for this transaction."]})]}),(0,i.tZ)(G,{children:(0,i.tZ)(_.zx,{css:(0,u.iv)("margin-left:auto;"),variant:"primary",onClick:r,children:"Done"})})]})},e0=function(e){var t,n,r=e.isDepositPosFunds,a=e.onNext,s=U(),l=s.currentSaga,c=s.orderResult,d=s.amount,h=s.side,f=s.symbol,y=(0,o.useState)(!!c&&"success"===c.status&&!!c.pendingDetails),m=y[0],v=y[1];if(!(l&&c&&"success"===c.status))return null;var g=h===p.oU.Buy,b="orderResponse"in c&&null!==(n=null===(t=c.orderResponse)||void 0===t?void 0:t.value)&&void 0!==n?n:d;return(0,i.BX)(i.HY,{children:[(0,i.BX)("div",{css:(0,u.iv)("display:flex;flex-direction:column;flex-grow:1;height:100%;justify-content:center;padding:0 24px;text-align:center;"),children:[(0,i.tZ)("div",{css:(0,u.iv)("margin-left:0 auto;padding-bottom:24px;"),children:(0,i.tZ)(e$,{size:32})}),(0,i.BX)("div",{css:(0,u.iv)("font:var(--font-h2);margin-top:8px;"),children:[(0,et.lb)(b),g?" investment placed":" withdrawal confirmed"]}),g?(0,i.tZ)(ed.lW,{isDepositPosFunds:r,amount:b}):(0,i.tZ)(ed.YS,{})]}),(0,i.tZ)(G,{children:(0,i.tZ)(_.zx,{css:(0,u.iv)("margin-left:auto;"),variant:"primary",onClick:a,children:"Done"})}),m&&(0,i.tZ)(eG,{symbol:f,onDismiss:function(){return v(!1)}})]})},e1=function(e){var t=e.isDepositPosFunds,n=e.plan,r=e.onNext;return n?(0,i.tZ)(eJ,{plan:n,onNext:r}):(0,i.tZ)(e0,{isDepositPosFunds:t,onNext:r})},e2=function(e){var t=e.onClose,n=(0,y.X)().mutate,r=function(){var e=(0,w.ec)().accountUuid,t=void 0===e?"":e,n=U(),r=n.orderId,i=n.orderResult;function o(){return(o=(0,v.Z)(function(){return(0,b.__generator)(this,function(e){switch(e.label){case 0:if(!(r&&!i))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Z.sl)({accountId:t,orderId:r})];case 2:case 3:return e.sent(),[3,4];case 4:return[2]}})})).apply(this,arguments)}return function(){return o.apply(this,arguments)}}(),a=U(),l=a.side,g=a.setOrderData,x=(0,d.VH)().isAnyFlowActive,T=(0,o.useState)(),C=T[0],M=T[1],S=(0,o.useState)("edit"),B=S[0],D=S[1],k=(0,o.useState)(!1),P=k[0],A=k[1],X=(0,o.useState)(!1),Y=X[0],N=X[1],F=(0,o.useState)(!1),E=F[0],O=F[1],_=(0,o.useState)(),z=_[0],R=_[1],I=f.LQ,H=(0,o.useReducer)(function(e,t){return(0,s.Z)({},e,t)},{amount:0,planName:"6M Treasury Bills",schedule:{frequency:m.k.OneTime},symbols:[{symbol:I,percentage:"100",symbolName:I},]}),L=H[0],W=H[1],V=L.schedule.frequency,j=l===p.oU.Buy&&V!==m.k.OneTime,$=function(){if(Y&&"status"!==B&&"success"!==B)return O(!0);("edit"===B||"confirm"===B)&&r(),t()},q=function(e){M(e),D("success")};return(0,i.BX)(c.u,{trapFocus:!x,modalStyles:(0,u.iv)("display:flex;flex-direction:column;min-height:496px;padding:24px 0 0;@media (min-height:640px){max-height:600px;}"),autoFocus:!1,closeWhenClickingBackdrop:!1,onClose:P||"status"===B?void 0:$,width:496,children:[function(){switch(B){case"edit":return(0,i.tZ)(eH,{schedule:L.schedule,onNext:function(e){var t=e.amount,n=e.paymentMethod;g({amount:t}),D("confirm"),R(n)},onDepositSuccess:function(){return N(!0)},onScheduleChange:function(e){return W({schedule:e})}});case"confirm":return(0,i.tZ)(eg,{isDepositPosFunds:Y,paymentMethod:z,planName:L.planName,schedule:L.schedule,symbols:L.symbols,onEdit:function(){return D("edit")},onNext:function(e){return j&&e?q(e):D("status")},onProcessing:function(e){return A(e)}});case"status":return(0,i.tZ)(eW,{isDepositPosFunds:Y,onClose:$,onSuccess:function(){D("success"),n()}});case"success":return(0,i.tZ)(e1,{isDepositPosFunds:Y,plan:C,onNext:function(){return t()}})}}(),E&&(0,i.tZ)(h.V,{title:"Are you sure you want to exit?",description:"We did not place your treasuries order, but the deposit to fund that purchase was completed.",confirmText:"Ok",showCancel:!0,onConfirm:function(){return t()},onClose:function(){return O(!1)}})]})},e9=function(e){var t=e.ownedAmount,n=e.side,r=e.symbol,o=e.symbolName,a=(0,l.Z)(e,["ownedAmount","side","symbol","symbolName"]);return(0,i.tZ)(E,{side:n,symbol:r,symbolName:o,ownedAmount:t,children:(0,i.tZ)(e2,(0,s.Z)({},a))})},e4=n(56167),e6=function(e){var t=e.symbol,n=e.onClose;return(0,i.BX)(c.u,{modalStyles:(0,u.iv)("display:flex;flex-direction:column;padding:48px 28px 28px;"),autoFocus:!1,onClose:n,showCloseButton:!1,width:345,children:[(0,i.BX)("div",{css:(0,u.iv)("font:var(--font-h2);text-align:center;"),children:[(0,e4.lZ)(t),": Trading not available"]}),(0,i.tZ)("div",{css:(0,u.iv)("color:var(--pw-core-color-greyscale-1000);margin:12px 0 40px;text-align:center;"),children:"Public does not currently support trading on this asset."}),(0,i.BX)("div",{css:(0,u.iv)("display:flex;justify-content:space-between;"),children:[(0,i.tZ)(_.zx,{variant:"inverted_primary",size:"large",onClick:function(){window.open(f.Ce.learnAboutCorporateAction,"_blank"),n()},children:"Learn More"}),(0,i.tZ)(_.zx,{size:"large",onClick:n,children:"Dismiss"})]})]})},e5=n(15371),e8=n(84659),e7=n(53645),e3=n(55663),te=n(46867),tt=function(e){var t=e.onClose,n=e.onConfirm,r=e.potentialYield,o=(0,et.p3)(r),a=o?(0,et.T3)(100*o):"-";return(0,i.BX)(e8.V,{children:[(0,i.tZ)(e7.$,{children:"Are you sure you want to sell?"}),(0,i.BX)(e3.c,{children:["You’re on track to earn ",a," annualized yield if you hold and sell this 6M T-Bill at maturity. Rate gross of fees."," ",(0,i.tZ)(eY.Rw,{href:f.Ce.disclosuresFeeSchedule,size:"large",target:"_blank",children:"Fee Schedule"})]}),(0,i.BX)(te.k,{children:[(0,i.tZ)(_.zx,{fullWidth:!0,onClick:t,variant:"inverted_primary",children:"Nevermind"}),(0,i.tZ)(_.zx,{fullWidth:!0,onClick:n,variant:"primary",children:"Continue"})]})]})},tn=function(e){var t,n=e.disabled,s=e.symbol,l=e.symbolName,u=e.onTradeStart,c=(0,o.useState)(),d=c[0],h=c[1],f=(0,r.Z)((0,Q.O)(),2),m=f[0],v=f[1],g=(0,r.Z)((0,Q.O)(),2),b=g[0],w=g[1],x=(0,o.useState)(!1),Z=x[0],T=x[1],C=(0,y.X)().data,M=(0,et.p3)(null==C?void 0:C.totalValue),S=(0,eb.E)().buyingPower,B=void 0===S?0:S,D=function(){h(void 0)},k=function(){w(),(0,a.sv)("nevermind")},P=function(){T(!0),h(p.oU.Sell),w(),(0,a.sv)("continue")};return{renderTradeModal:function(){return(0,i.BX)(i.HY,{children:[m&&(0,i.tZ)(e5.h,{onClose:v,children:(0,i.tZ)(e6,{symbol:s,onClose:v})}),b&&(0,i.tZ)(e5.h,{children:(0,i.tZ)(tt,{onClose:k,onConfirm:P,potentialYield:null!==(t=null==C?void 0:C.totalAggregateYieldToMaturity)&&void 0!==t?t:void 0})}),!!d&&(0,i.tZ)(e5.h,{children:(0,i.tZ)(e9,{side:d,symbol:s,symbolName:l,onClose:D,ownedAmount:M})})]})},startTrade:function(e){if((0,a.ww)({buyingPower:B,ownedAmount:M,side:e,symbol:s,symbolName:l}),n){v();return}if(e===p.oU.Sell&&!Z){w();return}h(e),null==u||u(e)}}}},56090:function(e){e.exports={text:"treasury-order-edit-available-to-withdraw_text__78My8"}}}]);